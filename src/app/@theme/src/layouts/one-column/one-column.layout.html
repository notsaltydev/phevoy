<nb-layout>
    <nb-layout-header fixed>
        <app-phev-header
                (navigateHome)="navigateHome()"
                (toggleSidebar)="toggleSidebar()"
                class="phev-header">
            <div class="phev-user">
                        <span (click)="togglePopover()"
                              [ngStyle]="{'background-image': getAvatarUr()}"
                              class="user-avatar">
                        </span>
                <app-popover (clickedOutside)="togglePopover()" *ngIf="showPopover">
                    <div class="settings-popover">
                        <div class="phev-popover-header">
                            <div [ngStyle]="{'background-image': getAvatarUr()}" class="avatar"></div>
                            <div class="user-name">{{ user.username }}</div>
                            <a class="settings-link" routerLink="/account">Account Settings</a>
                        </div>

                        <ul class="menu-list">
                            <li (click)="showPreferences()" class="menu-item">
                                <nb-icon class="icon" icon="settings-2-outline"></nb-icon>
                                <span class="text">Preferences</span>
                            </li>
                            <li (click)="showFeedback()" class="menu-item">
                                <nb-icon class="icon" icon="message-circle-outline"></nb-icon>
                                <span class="text">Leave feedback</span>
                            </li>
                            <li (click)="showHelp()" class="menu-item">
                                <nb-icon class="icon" icon="question-mark-circle-outline"></nb-icon>
                                <span class="text">Help</span>
                            </li>
                        </ul>

                        <div class="phev-popover-footer">
                            <button (click)="logout()" class="btn btn-primary semi-rounded logout-btn">
                                <i class="im im-icon-Key-3"></i>
                                Logout
                            </button>
                        </div>
                    </div>
                </app-popover>
            </div>

        </app-phev-header>

    </nb-layout-header>

    <nb-sidebar class="menu-sidebar" responsive start tag="menu-sidebar">
        <ng-content select="nb-menu"></ng-content>
    </nb-sidebar>

    <nb-layout-column [style.padding]="padding">
        <ng-content select="router-outlet"></ng-content>
    </nb-layout-column>
</nb-layout>
