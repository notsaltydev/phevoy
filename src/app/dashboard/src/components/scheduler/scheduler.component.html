<div class="calendar-header">
    <div class="btn-group">
        <div
                (viewDateChange)="closeOpenMonthViewDay()"
                [(viewDate)]="viewDate"
                [view]="view"
                class="btn btn-primary"
                mwlCalendarPreviousView
        >
            Previous
        </div>
        <div
                [(viewDate)]="viewDate"
                class="btn btn-outline-secondary"
                mwlCalendarToday
        >
            Today
        </div>
        <div
                (viewDateChange)="closeOpenMonthViewDay()"
                [(viewDate)]="viewDate"
                [view]="view"
                class="btn btn-primary"
                mwlCalendarNextView
        >
            Next
        </div>
    </div>
    <div class="btn-group">
        <span>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</span>
    </div>
    <div class="btn-group">
        <div
                (click)="setView(CalendarView.Month)"
                [class.active]="view === CalendarView.Month"
                class="btn btn-primary"
        >
            Month
        </div>
        <div
                (click)="setView(CalendarView.Week)"
                [class.active]="view === CalendarView.Week"
                class="btn btn-primary"
        >
            Week
        </div>
        <div
                (click)="setView(CalendarView.Day)"
                [class.active]="view === CalendarView.Day"
                class="btn btn-primary"
        >
            Day
        </div>
    </div>
</div>

<div [ngSwitch]="view">
    <mwl-calendar-month-view
            (dayClicked)="dayClicked($event.day)"
            (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
            *ngSwitchCase="CalendarView.Month"
            [activeDayIsOpen]="activeDayIsOpen"
            [events]="events"
            [refresh]="refresh"
            [viewDate]="viewDate"
    >
    </mwl-calendar-month-view>
    <mwl-calendar-week-view
            (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
            *ngSwitchCase="CalendarView.Week"
            [events]="events"
            [refresh]="refresh"
            [viewDate]="viewDate"
    >
    </mwl-calendar-week-view>
    <mwl-calendar-day-view
            (eventClicked)="handleEvent('Clicked', $event.event)"
            (eventTimesChanged)="eventTimesChanged($event)"
            *ngSwitchCase="CalendarView.Day"
            [events]="events"
            [refresh]="refresh"
            [viewDate]="viewDate"
    >
    </mwl-calendar-day-view>
</div>

<!--<h3>-->
<!--    Edit events-->
<!--    <button class="btn btn-primary float-right" (click)="addEvent()">-->
<!--        Add new-->
<!--    </button>-->
<!--    <div class="clearfix"></div>-->
<!--</h3>-->
<!--<div class="table-responsive">-->
<!--    <table class="table table-bordered">-->
<!--        <thead>-->
<!--        <tr>-->
<!--            <th>Title</th>-->
<!--            <th>Primary color</th>-->
<!--            <th>Secondary color</th>-->
<!--            <th>Starts at</th>-->
<!--            <th>Ends at</th>-->
<!--            <th>Remove</th>-->
<!--        </tr>-->
<!--        </thead>-->

<!--        <tbody>-->
<!--        <tr *ngFor="let event of events">-->
<!--            <td>-->
<!--                <input-->
<!--                        type="text"-->
<!--                        class="form-control"-->
<!--                        [(ngModel)]="event.title"-->
<!--                        (keyup)="refresh.next()"-->
<!--                />-->
<!--            </td>-->
<!--            <td>-->
<!--                <input-->
<!--                        type="color"-->
<!--                        [(ngModel)]="event.color.primary"-->
<!--                        (change)="refresh.next()"-->
<!--                />-->
<!--            </td>-->
<!--            <td>-->
<!--                <input-->
<!--                        type="color"-->
<!--                        [(ngModel)]="event.color.secondary"-->
<!--                        (change)="refresh.next()"-->
<!--                />-->
<!--            </td>-->
<!--            <td>-->
<!--                <input-->
<!--                        class="form-control"-->
<!--                        type="text"-->
<!--                        mwlFlatpickr-->
<!--                        [(ngModel)]="event.start"-->
<!--                        (ngModelChange)="refresh.next()"-->
<!--                        dateFormat="Y-m-dTH:i"-->
<!--                        altFormat="F j, Y H:i"-->
<!--                        placeholder="Not set"-->
<!--                />-->
<!--            </td>-->
<!--            <td>-->
<!--                <input-->
<!--                        class="form-control"-->
<!--                        type="text"-->
<!--                        mwlFlatpickr-->
<!--                        [(ngModel)]="event.end"-->
<!--                        (ngModelChange)="refresh.next()"-->
<!--                        dateFormat="Y-m-dTH:i"-->
<!--                        altFormat="F j, Y H:i"-->
<!--                        placeholder="Not set"-->
<!--                />-->
<!--            </td>-->
<!--            <td>-->
<!--                <button class="btn btn-danger" (click)="deleteEvent(event)">-->
<!--                    Delete-->
<!--                </button>-->
<!--            </td>-->
<!--        </tr>-->
<!--        </tbody>-->
<!--    </table>-->
<!--</div>-->
<!--<ng-template #modalContent let-close="close">-->
<!--    <div class="modal-header">-->
<!--        <h5 class="modal-title">Event action occurred</h5>-->
<!--        <button type="button" class="close" (click)="close()">-->
<!--            <span aria-hidden="true">&times;</span>-->
<!--        </button>-->
<!--    </div>-->
<!--    <div class="modal-body">-->
<!--        <div>-->
<!--            Action:-->
<!--            <pre>{{ modalData?.action }}</pre>-->
<!--        </div>-->
<!--        <div>-->
<!--            Event:-->
<!--            <pre>{{ modalData?.event | json }}</pre>-->
<!--        </div>-->
<!--    </div>-->
<!--    <div class="modal-footer">-->
<!--        <button type="button" class="btn btn-outline-secondary" (click)="close()">-->
<!--            OK-->
<!--        </button>-->
<!--    </div>-->
<!--</ng-template>-->
